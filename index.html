<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Bruna &amp; Rafael</title>

  <!-- SEO / Share -->
  <meta name="description" content="Convite de casamento Bruna & Rafael — 19 de Setembro de 2026. Cerimónia e Copo de Água. Confirmação de presença." />
  <meta property="og:title" content="Bruna & Rafael — Convite de Casamento" />
  <meta property="og:description" content="19 de Setembro de 2026 • Cerimónia e Copo de Água • Confirmação de presença." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://bruna-rafael-casamento.vercel.app/og-image.jpg" />
  <meta name="theme-color" content="#6B7D5C" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F8F6F2;
      --ink:#2F2F2F;
      --muted: rgba(47,47,47,.68);
      --accent:#6B7D5C;

      /* linha do rebordo interno (a que referiste como #5E7050) */
      --inner-border:#5E7050;

      --sheet-radius: 14px;
      --sheet-w: min(760px, 94vw);

      --paper-pad-x: clamp(18px, 4vw, 34px);
      --paper-pad-y: clamp(26px, 5.2vw, 44px);

      --content-col: min(560px, 100%);

      --h1: clamp(36px, 6.2vw, 58px);
      --h2: clamp(28px, 5.6vw, 46px);
      --p:  clamp(18px, 2.6vw, 21px);

      --space-1: 8px;
      --space-2: 12px;
      --space-3: 16px;
      --space-4: 24px;
      --space-5: 32px;
      --space-6: 44px;

      /* ✅ espaço igual: top wreath ↔ título  e  botão ↔ bottom wreath */
      --wreath-gap: clamp(16px, 2.6vw, 22px);

      --lh-body: 1.55;
      --lh-title: 1.08;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    img{ max-width:100%; display:block; }

    body{
      margin:0;
      font-family: 'Cormorant Garamond', serif;
      color: var(--ink);
      text-align:center;
      overflow-x:hidden;
      background:
        radial-gradient(circle at 20% 20%, rgba(0,0,0,0.02), transparent 42%),
        radial-gradient(circle at 80% 70%, rgba(0,0,0,0.02), transparent 45%),
        var(--bg);
    }

    body.lock-scroll{ overflow: hidden; }

    /* ================= INTRO ================= */
    .intro{
      position:fixed;
      inset:0;
      display:flex;
      justify-content:center;
      align-items:center;
      z-index:999;
      background: var(--bg);
      padding: 18px;
    }

    .envelope-real{
      width: min(880px, 94vw);
      aspect-ratio: 3 / 2;
      position: relative;
      border-radius: var(--sheet-radius);
      overflow: hidden;
      background: url("envelope-intro.png") center/cover no-repeat;
      box-shadow: 0 22px 60px rgba(15,15,15,0.16);
      transform: translateZ(0);
    }

    .envelope-real::after{
      content:"";
      position:absolute;
      inset:0;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
      opacity: 0.22;
      mix-blend-mode: multiply;
      pointer-events:none;
    }

    .intro-text{
      position:absolute;
      top: 30px;
      left:0; right:0;
      padding: 0 16px;
      font-size: 18px;
      color: var(--accent);
      opacity: .95;
      letter-spacing: .3px;
      z-index: 8;
      text-shadow: 0 1px 0 rgba(255,255,255,0.55);
      pointer-events:none;
    }

    .seal-hotspot{
      position:absolute;
      left:50%;
      top:58%;
      transform: translate(-50%, -50%);
      width: 190px;
      height: 190px;
      border:none;
      background:transparent;
      cursor:pointer;
      z-index:10;
    }

    .seal-hotspot:focus-visible{
      outline: none;
      box-shadow: 0 0 0 4px rgba(107,125,92,0.22);
      border-radius: 999px;
    }

    .seal-olive{
      position:absolute;
      width:135px;
      opacity:0.75;
      filter: brightness(92%) contrast(130%);
      mix-blend-mode:multiply;
      pointer-events:none;
      z-index:6;
    }

    .seal-olive.left{
      left:50%;
      top:58%;
      transform: translate(-230px, -15px) rotate(-90deg);
    }
    .seal-olive.right{
      left:50%;
      top:58%;
      transform: translate(105px, -15px) rotate(90deg) scaleX(-1);
    }

    .envelope-real.exit{
      animation: envExit 950ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes envExit{
      0%{ transform: translateY(0); opacity:1; }
      100%{ transform: translateY(-120%); opacity:0; }
    }

    /* ================= CONTEÚDO (PAPEL) ================= */
    .hidden{ opacity:0; pointer-events:none; }

    .paper-sheet{
      width: var(--sheet-w);
      margin: clamp(18px, 4vw, 44px) auto clamp(40px, 7vw, 80px) auto;
      position:relative;
      border-radius: var(--sheet-radius);
      overflow:hidden;

      box-shadow:
        0 18px 50px rgba(15,15,15,0.10),
        0 2px 0 rgba(255,255,255,0.35) inset;

      background:
        radial-gradient(circle at 30% 18%, rgba(0,0,0,0.03), transparent 44%),
        radial-gradient(circle at 72% 80%, rgba(0,0,0,0.025), transparent 46%),
        linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.58)),
        var(--bg);
    }

    /* rebordo interno */
    .paper-sheet::before{
      content:"";
      position:absolute;
      inset: 10px;
      border-radius: calc(var(--sheet-radius) - 6px);
      border: 1px solid color-mix(in srgb, var(--inner-border) 55%, transparent);
      pointer-events:none;
      z-index: 1;
    }

    .paper-sheet::after{
      content:"";
      position:absolute;
      inset:0;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.78' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
      opacity: 0.22;
      mix-blend-mode: multiply;
      pointer-events:none;
      z-index: 2;
    }

    .paper-inner{
      position:relative;
      padding: var(--paper-pad-y) var(--paper-pad-x);
      z-index: 3;
    }

    .content-col{
      width: var(--content-col);
      margin: 0 auto;
    }

    /* ================= GRINALDAS (TOPO + FUNDO) =================
       ✅ esticam ao longo de TODO o topo/fundo do "rebordo interno" (inset 10px)
       ✅ parecem "nascer" a partir dos cantos do rebordo interno
       ✅ responsivo (clamp + object-fit)
    */
    
    .wreath-edge{
      /* ocupa a largura do rebordo interno: mesma medida do ::before (inset 10px) */
      width: calc(100% - 20px);
      margin-left: auto;
      margin-right: auto;
    
      display:block;
      pointer-events:none;
    
      height: clamp(64px, 10vw, 96px);
    
      /* manter look/cores como antes */
      opacity: 0.55;
      filter: contrast(110%) brightness(96%);
      mix-blend-mode: multiply;
    
      object-fit: cover;
    
      /* ✅ AQUI está o fix: a imagem “corta” a partir de cima */
      object-position: top center;
    }

    /* fundo invertido continua ok */
    .wreath-edge.bottom{
      transform: scaleY(-1);
    }

    /* espaçamento igual em cima e em baixo */
    .wreath-top{ margin-bottom: var(--wreath-gap); }
    .wreath-bottom{ margin-top: var(--wreath-gap); }

    /* Secções */
    .section{
      padding: clamp(28px, 5.4vw, 56px) 0;
      opacity:0;
      transform:translateY(22px);
      transition: opacity .9s ease, transform .9s ease;
      position:relative;
    }
    .section.visible{
      opacity:1;
      transform:translateY(0);
    }

    /* ✅ Reduz “branco” só na PRIMEIRA secção (cabeçalho) */
    .section:first-of-type{
      padding-top: clamp(14px, 3vw, 24px);
      padding-bottom: clamp(22px, 4vw, 36px);
    }

    /* Separador */
    .section + .section{
      position:relative;
      padding-top: calc(clamp(28px, 5.4vw, 56px) + 48px);
    }
    .section + .section::before{
      content:"";
      position:absolute;
      top: 12px;
      left: 50%;
      width: clamp(70px, 11vw, 100px);
      height: clamp(70px, 11vw, 100px);
      transform: translateX(-50%) rotate(90deg);
      background: url("separador leaves.png") center/contain no-repeat;
      opacity: 0.55;
      filter: contrast(130%) brightness(92%);
      mix-blend-mode: multiply;
      pointer-events:none;
    }

    /* Tipos */
    h1{
      font-family:'Playfair Display', serif;
      font-size: var(--h1);
      color: var(--accent);
      margin: 0 0 var(--space-1) 0;
      letter-spacing: .2px;
      line-height: var(--lh-title);
    }

    h2{
      font-family:'Playfair Display', serif;
      font-size: var(--h2);
      color: var(--accent);
      margin: 0 0 var(--space-3) 0;
      letter-spacing: .2px;
      line-height: var(--lh-title);
    }

    p{
      font-size: var(--p);
      line-height: var(--lh-body);
      margin: 0;
      color: var(--muted);
    }

    .date{
      font-size: clamp(18px, 2.6vw, 22px);
      letter-spacing: 1.2px;
      color: rgba(47,47,47,.75);
      font-variant-caps: all-small-caps;
      margin-top: 6px;
      margin-bottom: 18px;
    }

    /* (mantido, mas já não é usado no layout final) */
    .top-leaves{ display:none; }

    /* Countdown */
    .countdown{
      width: var(--content-col);
      margin: 0 auto;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: clamp(10px, 2.4vw, 14px);
      align-items: stretch;
    }
    .count-box{
      border: 1px solid rgba(107,125,92,0.18);
      border-radius: 12px;
      padding: 10px 8px;
      background: rgba(255,255,255,0.32);
      backdrop-filter: blur(2px);
    }
    .count-box span{
      display:block;
      font-size: clamp(24px, 4.4vw, 36px);
      color: var(--accent);
      line-height: 1;
      margin-bottom: 6px;
      font-family:'Playfair Display', serif;
      letter-spacing: .2px;
    }
    .count-box small{
      display:block;
      font-size: 15px;
      letter-spacing: 1.2px;
      opacity: .9;
      font-variant-caps: all-small-caps;
      color: rgba(47,47,47,.70);
    }

    .location{
      font-size: clamp(20px, 3.5vw, 28px);
      margin: var(--space-2) 0 var(--space-1) 0;
      line-height: 1.2;
      color: rgba(47,47,47,.88);
    }
    .time{
      font-size: clamp(18px, 3vw, 22px);
      margin-bottom: var(--space-3);
      opacity: .95;
      color: rgba(47,47,47,.72);
    }

    a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      min-height: 44px;
      text-decoration:none;
      color: var(--accent);
      font-size: 18px;
      line-height: 1;
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid rgba(107,125,92,0.22);
      background: rgba(255,255,255,0.38);
      transition: background .18s ease, box-shadow .18s ease, transform .18s ease;
    }
    a:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.52);
      box-shadow: 0 10px 24px rgba(15,15,15,0.06);
    }
    a:focus-visible{
      outline: none;
      box-shadow: 0 0 0 4px rgba(107,125,92,0.18);
    }

    .location-illustration{
      width: var(--content-col);
      margin: var(--space-5) auto var(--space-3) auto;
      opacity:0.68;
      filter: grayscale(100%) contrast(82%) brightness(104%);
      mix-blend-mode:multiply;
    }

    .map-embed{
      width: var(--content-col);
      margin: var(--space-4) auto 0 auto;
      border-radius: 12px;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 10px 26px rgba(15,15,15,0.05);
    }
    .map-embed iframe{
      width:100%;
      height: clamp(230px, 44vw, 300px);
      border:0;
      display:block;
    }

    form{
      margin-top: var(--space-3);
      display:grid;
      gap: 12px;
      justify-items:center;
    }

    .form-col{
      width: var(--content-col);
      margin: 0 auto;
      display: grid;
      gap: 12px;
    }

    label{
      text-align:left;
      width: min(520px, 100%);
      font-size: 16px;
      color: rgba(47,47,47,.70);
      letter-spacing: .2px;
    }

    input, select, textarea{
      width: min(520px, 100%);
      padding: 12px 14px;
      font-size: 18px;
      font-family:'Cormorant Garamond', serif;
      border:1px solid rgba(0,0,0,0.14);
      border-radius: 12px;
      background: rgba(255,255,255,0.60);
      outline: none;
      color: var(--ink);
      transition: box-shadow .18s ease, border-color .18s ease, background .18s ease;
    }
    input::placeholder, textarea::placeholder{ color: rgba(47,47,47,.50); }

    input:focus, select:focus, textarea:focus{
      border-color: rgba(107,125,92,0.65);
      box-shadow: 0 0 0 4px rgba(107,125,92,0.18);
      background: rgba(255,255,255,0.72);
    }

    textarea{ height: 140px; resize:none; }

    .send-btn{
      margin-top: 6px;
      padding: 14px 32px;
      background: var(--accent);
      color:white;
      border:none;
      font-size:18px;
      cursor:pointer;
      border-radius: 14px;
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
      box-shadow: 0 12px 26px rgba(15,15,15,0.10);
      min-height: 46px;
    }
    .send-btn:hover{
      transform: translateY(-2px);
      background:#5E7050;
    }
    .send-btn:disabled{
      cursor:not-allowed;
      opacity:.85;
      transform:none;
      box-shadow:none;
    }
    .form-msg{
      margin: 4px 0 0 0;
      opacity: .85;
      color: rgba(47,47,47,.72);
      min-height: 22px;
    }

    @media (max-width:520px){
      .envelope-real{ border-radius: 12px; }

      .intro-text{
        top: 14px;
        font-size: 12px;
        padding: 0 14px;
      }

      .seal-hotspot{
        top: 56%;
        width: 160px;
        height: 160px;
      }

      .seal-olive{
        width: 55px;
        opacity: 0.80;
        filter: brightness(92%) contrast(130%);
      }
      .seal-olive.left{
        top:56%;
        transform: translate(-96px, -10px) rotate(-90deg);
      }
      .seal-olive.right{
        top:56%;
        transform: translate(40px, -10px) rotate(90deg) scaleX(-1);
      }

      :root{
        --content-col: min(520px, 100%);
      }

      /* em mobile, uma grinalda um pouco mais baixa para não “pesar” */
      .wreath-edge{
        height: clamp(56px, 14vw, 84px);
        opacity: 0.60;
      }
    }

    @media (prefers-reduced-motion: reduce){
      .section, .envelope-real.exit{ transition:none !important; animation:none !important; }
    }
  </style>
</head>

<body class="lock-scroll">
  <!-- INTRO -->
  <div class="intro" id="intro">
    <div class="envelope-real" id="envelope" aria-label="Envelope do convite">
      <div class="intro-text">Clique no selo para abrir</div>

      <img src="vector oliveira.png" class="seal-olive left" alt="" aria-hidden="true">
      <img src="vector oliveira.png" class="seal-olive right" alt="" aria-hidden="true">

      <button class="seal-hotspot" id="openBtn" aria-label="Abrir convite"></button>
    </div>
  </div>

  <!-- CONTEÚDO -->
  <div id="mainContent" class="hidden" aria-hidden="true">
    <div class="paper-sheet" role="main">
      <div class="paper-inner">

        <!-- ✅ GRINALDA TOPO (a nascer do rebordo interno) -->
        <img class="wreath-edge wreath-top" src="top-leaves.png" alt="" aria-hidden="true">

        <!-- CABEÇALHO -->
        <section class="section" aria-label="Cabeçalho">
          <div class="content-col">
            <h1 id="mainTitle">Bruna &amp; Rafael</h1>
            <p class="date">19 de Setembro de 2026</p>
          </div>

          <div class="countdown" aria-label="Contagem decrescente">
            <div class="count-box">
              <span id="days">—</span>
              <small>Dias</small>
            </div>
            <div class="count-box">
              <span id="hours">—</span>
              <small>Horas</small>
            </div>
            <div class="count-box">
              <span id="minutes">—</span>
              <small>Min</small>
            </div>
          </div>
        </section>

        <!-- CERIMÓNIA -->
        <section class="section" aria-label="Cerimónia">
          <div class="content-col">
            <h2>Cerimónia</h2>
            <div class="location">Igreja Paroquial de Casais da Igreja</div>
            <div class="time">14h30</div>

            <div class="location-illustration">
              <img src="vector igreja.png" alt="Ilustração da Igreja">
            </div>

            <a target="_blank" rel="noopener" href="https://maps.app.goo.gl/NNXk6Tdb4irwJZ41A" aria-label="Ver mapa da Cerimónia">
              Ver no mapa
            </a>

            <div class="map-embed">
              <iframe
                title="Mapa da Igreja"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                src="https://maps.google.com/maps?q=39.586546,-8.523528&z=17&output=embed">
              </iframe>
            </div>
          </div>
        </section>

        <!-- COPO DE ÁGUA -->
        <section class="section" aria-label="Copo de Água">
          <div class="content-col">
            <h2>Copo de Água</h2>
            <div class="location">Quinta das Carrascosas</div>
            <div class="time">17h00</div>

            <div class="location-illustration">
              <img src="vector quinta.png" alt="Ilustração da Quinta">
            </div>

            <a target="_blank" rel="noopener" href="https://maps.app.goo.gl/CoPeXxQ7RcsmeTpz6" aria-label="Ver mapa do Copo de Água">
              Ver no mapa
            </a>

            <div class="map-embed">
              <iframe
                title="Mapa da Quinta"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                src="https://maps.google.com/maps?q=Quinta%20das%20Carrascosas&t=&z=15&ie=UTF8&iwloc=&output=embed">
              </iframe>
            </div>
          </div>
        </section>

        <!-- RSVP -->
        <section class="section" aria-label="RSVP">
          <div class="content-col">
            <h2>Podemos contar convosco?</h2>

            <form id="rsvpForm">
              <div class="form-col">
                <label>
                  Nome completo
                  <input name="nome" type="text" placeholder="Nome completo" required>
                </label>

                <label>
                  Número de pessoas
                  <input name="pessoas" type="number" placeholder="Número de pessoas" min="1">
                </label>

                <label>
                  Nome das pessoas que acompanham
                  <textarea name="acompanhantes" placeholder="Nome das pessoas que acompanham"></textarea>
                </label>

                <label>
                  Resposta de presença
                  <select name="resposta">
                    <option value="confirmo">Confirmo presença</option>
                    <option value="nao">Não poderei estar presente</option>
                  </select>
                </label>
              </div>

              <button class="send-btn" type="submit" id="sendBtn">Enviar Resposta</button>

              <!-- ✅ GRINALDA FUNDO (mesmo gap do topo) -->
              <img class="wreath-edge wreath-bottom bottom" src="top-leaves.png" alt="" aria-hidden="true">

              <p class="form-msg" id="formMsg" role="status" aria-live="polite"></p>
            </form>
          </div>
        </section>

      </div>
    </div>
  </div>

  <script>
    // ========= Intro / Abertura =========
    const intro = document.getElementById("intro");
    const envelope = document.getElementById("envelope");
    const main = document.getElementById("mainContent");
    const openBtn = document.getElementById("openBtn");

    function revealSectionsWithStagger(){
      const sections = document.querySelectorAll(".section");
      sections.forEach((sec, i) => {
        sec.style.transitionDelay = `${i * 90}ms`;
        sec.classList.add("visible");
      });
    }

    function openInvite(){
      setTimeout(()=> envelope.classList.add("exit"), 80);

      setTimeout(()=>{
        intro.style.display = "none";
        document.body.classList.remove("lock-scroll");

        main.classList.remove("hidden");
        main.removeAttribute("aria-hidden");

        revealSectionsWithStagger();

        // foco (acessibilidade)
        const title = document.getElementById("mainTitle");
        title.setAttribute("tabindex", "-1");
        title.focus({ preventScroll: true });
        title.removeAttribute("tabindex");

        // ✅ countdown inicia aqui
        updateCountdown();
        setInterval(updateCountdown, 60_000);
      }, 1050);
    }

    openBtn.addEventListener("click", openInvite);

    // ========= Countdown =========
    // NOTA: manter o offset +01:00 (horário de verão em setembro) é ok para Portugal.
    const weddingDate = new Date("2026-09-19T14:30:00+01:00").getTime();

    function pad2(n){ return String(n).padStart(2, "0"); }

    function updateCountdown(){
      const now = Date.now();
      let distance = weddingDate - now;

      const daysEl = document.getElementById("days");
      const hoursEl = document.getElementById("hours");
      const minutesEl = document.getElementById("minutes");

      if(!daysEl || !hoursEl || !minutesEl) return;

      if(distance <= 0){
        daysEl.textContent = "0";
        hoursEl.textContent = "00";
        minutesEl.textContent = "00";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      distance %= (1000 * 60 * 60 * 24);

      const hours = Math.floor(distance / (1000 * 60 * 60));
      distance %= (1000 * 60 * 60);

      const minutes = Math.floor(distance / (1000 * 60));

      daysEl.textContent = days;
      hoursEl.textContent = pad2(hours);
      minutesEl.textContent = pad2(minutes);
    }

    // ========= RSVP (simulado por agora) =========
    const form = document.getElementById("rsvpForm");
    const btn  = document.getElementById("sendBtn");
    const msg  = document.getElementById("formMsg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      msg.textContent = "";
      btn.disabled = true;
      const original = btn.textContent;
      btn.textContent = "A enviar…";

      try{
        await new Promise(r => setTimeout(r, 900));
        msg.textContent = "Resposta registada. Obrigado! ✨";
        form.reset();
      }catch(err){
        msg.textContent = "Não foi possível enviar. Tenta novamente, por favor.";
      }finally{
        btn.disabled = false;
        btn.textContent = original;
      }
    });
  </script>
</body>
</html>
